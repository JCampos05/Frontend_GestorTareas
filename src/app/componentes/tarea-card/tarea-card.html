<div class="tarea-card" [attr.data-tarea-id]="tarea.idTarea" [attr.data-estado]="tarea.estado" (click)="onTareaClick()">
  <div class="tarea-content">
    <input
      type="checkbox"
      [checked]="tarea.estado === 'C'"
      (change)="onCheckboxChange($event)"
      class="tarea-checkbox">

    <div class="tarea-info">
      <strong [class.tarea-completada]="tarea.estado === 'C'">
        {{ tarea.nombre }}
        <i *ngIf="tarea.prioridad === 'A'" class="fas fa-exclamation-triangle prioridad-alta"></i>
      </strong>

      <p *ngIf="tarea.descripcion" class="tarea-descripcion">
        {{ tarea.descripcion }}
      </p>

      <p *ngIf="tarea.fechaVencimiento" class="tarea-fecha">
        <i class="far fa-calendar"></i> {{ formatearFecha(tarea.fechaVencimiento) }}
      </p>
    </div>

    <div class="tarea-acciones">
      <button
        *ngIf="mostrarBotonIniciar"
        (click)="cambiarEstado($event, 'N')"
        class="btn-accion">
        <i class="fas fa-play"></i> Iniciar
      </button>

      <button
        *ngIf="mostrarBotonesProceso"
        (click)="cambiarEstado($event, 'P')"
        class="btn-accion">
        <i class="fas fa-pause"></i>
      </button>

      <button
        *ngIf="mostrarBotonesProceso"
        (click)="cambiarEstado($event, 'C')"
        class="btn-accion">
        <i class="fas fa-check"></i>
      </button>

      <button
        *ngIf="mostrarBotonReabrir"
        (click)="cambiarEstado($event, 'P')"
        class="btn-accion">
        <i class="fas fa-redo"></i> Reabrir
      </button>
    </div>
  </div>
</div>
